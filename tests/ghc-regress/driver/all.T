setTestOpts(compose(alone, only_compiler_types(['ghc'])))

def cleanall():
    clean(['A.hc', 'A.hi', 'A.hspp', 'A.o', 'A.ooo', 'A.s', 'A.tmp', 'A.xhi',
           'B/C.hi', 'B/C.o', 'B/C.ooo', 'B/C.xhi', 'B/stub.c',
           'B/F.hi', 'B/F.o', 'B/F_stub.c', 'B/F_stub.h', 'B/F_stub.o',
           'F.hi', 'F.o', 'F_stub.c', 'F_stub.h', 'F_stub.o',
           'Hello.hi', 'Hello.hs', 'Hello.o',
           'd1/P/Q.hi', 'd1/P/Q.o', 'd2/R/S.hi', 'd2/R/S.o',
           'depend', 'depend.bak', 'hello'])

    if default_testopts.cleanup != '':
        os.spawnlp(os.P_WAIT, 'rm', 'rm', '-rf', in_testdir('hi'))
        os.spawnlp(os.P_WAIT, 'rm', 'rm', '-rf', in_testdir('obj'))
        os.spawnlp(os.P_WAIT, 'rm', 'rm', '-rf', in_testdir('stub'))

test('driver011', normal, run_command_ignore_output, ['$MAKE test011'])
cleanall()
test('driver012', normal, run_command_ignore_output, ['$MAKE test012'])
cleanall()
test('driver013', normal, run_command_ignore_output, ['$MAKE test013'])
cleanall()
test('driver014', normal, run_command_ignore_output, ['$MAKE test014'])
cleanall()
test('driver015', normal, run_command_ignore_output, ['$MAKE test015'])
cleanall()
test('driver016', normal, run_command_ignore_output, ['$MAKE test016'])
cleanall()
test('driver017', normal, run_command_ignore_output, ['$MAKE test017'])
cleanall()
test('driver018', normal, run_command_ignore_output, ['$MAKE test018'])
cleanall()
test('driver021', normal, run_command_ignore_output, ['$MAKE test021'])
cleanall()
test('driver022', normal, run_command_ignore_output, ['$MAKE test022'])
cleanall()
test('driver023', normal, run_command_ignore_output, ['$MAKE test023'])
cleanall()
test('driver024', normal, run_command_ignore_output, ['$MAKE test024'])
cleanall()
test('driver024a', normal, run_command_ignore_output, ['$MAKE test024a'])
cleanall()
test('driver025', normal, run_command_ignore_output, ['$MAKE test025'])
cleanall()
test('driver026', normal, run_command_ignore_output, ['$MAKE test026'])
cleanall()
test('driver027', normal, run_command_ignore_output, ['$MAKE test027'])
cleanall()
test('driver028', normal, run_command_ignore_output, ['$MAKE test028'])
cleanall()
test('driver031', normal, run_command_ignore_output, ['$MAKE test031'])
cleanall()
test('driver032', normal, run_command_ignore_output, ['$MAKE test032'])
cleanall()
test('driver033', normal, run_command_ignore_output, ['$MAKE test033'])
cleanall()
test('driver034', normal, run_command_ignore_output, ['$MAKE test034'])
cleanall()
test('driver035', normal, run_command_ignore_output, ['$MAKE test035'])
cleanall()
test('driver041', normal, run_command_ignore_output, ['$MAKE test041'])
cleanall()
test('driver042', normal, run_command_ignore_output, ['$MAKE test042'])
cleanall()
test('driver043', normal, run_command_ignore_output, ['$MAKE test043'])
cleanall()
test('driver044', normal, run_command_ignore_output, ['$MAKE test044'])
cleanall()
test('driver045', normal, run_command_ignore_output, ['$MAKE test045'])
cleanall()
test('driver051', normal, run_command_ignore_output, ['$MAKE test051'])
cleanall()
test('driver052', normal, run_command_ignore_output, ['$MAKE test052'])
cleanall()
test('driver053', normal, run_command_ignore_output, ['$MAKE test053'])
cleanall()

test('driver060', normal, run_command_ignore_output, ['$MAKE test060'])
cleanall()
test('driver061', normal, run_command_ignore_output, ['$MAKE test061'])
cleanall()

test('driver062.1', normal, run_command_ignore_output, ['$MAKE test062.1'])
cleanall()
test('driver062.2', normal, run_command_ignore_output, ['$MAKE test062.2'])
cleanall()
test('driver062.3', normal, run_command_ignore_output, ['$MAKE test062.3'])
cleanall()

test('driver063', normal, run_command, ['$MAKE -s --no-print-directory test063'])
cleanall()
test('driver064', normal, run_command_ignore_output, ['$MAKE test064'])
cleanall()
test('driver065', normal, run_command_ignore_output, ['$MAKE test065'])
cleanall()
test('driver066', normal, run_command_ignore_output, ['$MAKE test066'])
cleanall()
test('driver067', normal, run_command_ignore_output, ['$MAKE test067'])
cleanall()
test('driver068', normal, run_command_ignore_output, ['$MAKE test068'])
cleanall()
test('driver069', normal, run_command_ignore_output, ['$MAKE test069'])
cleanall()
test('driver070', normal, run_command_ignore_output, ['$MAKE test070'])
cleanall()
test('driver071', normal, run_command_ignore_output, ['$MAKE test071'])
cleanall()

test('driver080', normal, run_command_ignore_output, ['$MAKE test080'])
cleanall()

test('driver200', normal, run_command_ignore_output, ['$MAKE test200'])
cleanall()

