setTestOpts(compose(alone, only_compiler_types(['ghc'])))

def cleanall():
    clean(['A.hc', 'A.hi', 'A.hspp', 'A.o', 'A.ooo', 'A.s', 'A.tmp', 'A.xhi',
           'B/C.hi', 'B/C.o', 'B/C.ooo', 'B/C.xhi', 'B/stub.c',
           'B/F.hi', 'B/F.o', 'B/F_stub.c', 'B/F_stub.h', 'B/F_stub.o',
           'F.hi', 'F.o', 'F_stub.c', 'F_stub.h', 'F_stub.o',
           'Hello.hi', 'Hello.hs', 'Hello.o',
           'B/Hello.hi', 'B/Hello.hs', 'B/Hello.o',
           'd1/P/Q.hi', 'd1/P/Q.o', 'd2/R/S.hi', 'd2/R/S.o',
           'depend', 'depend.bak', 'hello'])

    if default_testopts.cleanup != '':
        rawSystem(['rm', '-rf', in_testdir('hi')])
        rawSystem(['rm', '-rf', in_testdir('obj')])
        rawSystem(['rm', '-rf', in_testdir('stub')])

test('driver011', ignore_output, run_command, ['$MAKE test011'])
cleanall()
test('driver012', ignore_output, run_command, ['$MAKE test012'])
cleanall()
test('driver013', ignore_output, run_command, ['$MAKE test013'])
cleanall()
test('driver014', ignore_output, run_command, ['$MAKE test014'])
cleanall()
test('driver015', ignore_output, run_command, ['$MAKE test015'])
cleanall()
test('driver016', ignore_output, run_command, ['$MAKE test016'])
cleanall()
test('driver017', ignore_output, run_command, ['$MAKE test017'])
cleanall()
test('driver018', ignore_output, run_command, ['$MAKE test018'])
cleanall()
test('driver021', ignore_output, run_command, ['$MAKE test021'])
cleanall()
test('driver022', ignore_output, run_command, ['$MAKE test022'])
cleanall()
test('driver023', ignore_output, run_command, ['$MAKE test023'])
cleanall()
test('driver024', ignore_output, run_command, ['$MAKE test024'])
cleanall()
test('driver024a', ignore_output, run_command, ['$MAKE test024a'])
cleanall()
test('driver025', ignore_output, run_command, ['$MAKE test025'])
cleanall()
test('driver026', ignore_output, run_command, ['$MAKE test026'])
cleanall()
test('driver027', ignore_output, run_command, ['$MAKE test027'])
cleanall()
test('driver028', ignore_output, run_command, ['$MAKE test028'])
cleanall()
test('driver031', ignore_output, run_command, ['$MAKE test031'])
cleanall()
test('driver032', ignore_output, run_command, ['$MAKE test032'])
cleanall()
test('driver033', ignore_output, run_command, ['$MAKE test033'])
cleanall()
test('driver034', ignore_output, run_command, ['$MAKE test034'])
cleanall()
test('driver035', ignore_output, run_command, ['$MAKE test035'])
cleanall()
test('driver041', ignore_output, run_command, ['$MAKE test041'])
cleanall()
test('driver042', ignore_output, run_command, ['$MAKE test042'])
cleanall()
test('driver043', ignore_output, run_command, ['$MAKE test043'])
cleanall()
test('driver044', ignore_output, run_command, ['$MAKE test044'])
cleanall()
test('driver045', ignore_output, run_command, ['$MAKE test045'])
cleanall()
test('driver051', ignore_output, run_command, ['$MAKE test051'])
cleanall()
test('driver052', ignore_output, run_command, ['$MAKE test052'])
cleanall()
test('driver053', ignore_output, run_command, ['$MAKE test053'])
cleanall()

test('driver060', ignore_output, run_command, ['$MAKE test060'])
cleanall()
test('driver061', ignore_output, run_command, ['$MAKE test061'])
cleanall()
test('driver061a.1', ignore_output, run_command, ['$MAKE test061a.1'])
cleanall()
test('driver061a.2', ignore_output, run_command, ['$MAKE test061a.2'])
cleanall()

test('driver062.1', ignore_output, run_command, ['$MAKE test062.1'])
cleanall()
test('driver062.2', ignore_output, run_command, ['$MAKE test062.2'])
cleanall()
test('driver062.3', ignore_output, run_command, ['$MAKE test062.3'])
cleanall()
test('driver062.4', ignore_output, run_command, ['$MAKE test062.4'])
cleanall()
test('driver062.5', ignore_output, run_command, ['$MAKE test062.5'])
cleanall()

test('driver063', normal, run_command, ['$MAKE -s --no-print-directory test063'])
cleanall()
test('driver064', ignore_output, run_command, ['$MAKE test064'])
cleanall()
test('driver065', ignore_output, run_command, ['$MAKE test065'])
cleanall()
test('driver066', ignore_output, run_command, ['$MAKE test066'])
cleanall()
test('driver067', ignore_output, run_command, ['$MAKE test067'])
cleanall()
test('driver068', ignore_output, run_command, ['$MAKE test068'])
cleanall()
test('driver069', ignore_output, run_command, ['$MAKE test069'])
cleanall()
test('driver070', ignore_output, run_command, ['$MAKE test070'])
cleanall()
test('driver071', ignore_output, run_command, ['$MAKE test071'])
cleanall()

test('driver080', ignore_output, run_command, ['$MAKE test080'])
cleanall()

test('driver200', ignore_output, run_command, ['$MAKE test200'])
cleanall()

test('pragma001', expect_broken(1736), compile, [''])

